<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>QuizIQ.com</title>
    <link rel="stylesheet" href="/css/style1.css">
</head>
<body>
    <header>
        <div class="navbar">
           <img src="/assets/logo.png" alt="Logo" class="logo" />  
            <div class="nav-links">
                <a href="dashboard.html" class="logo1">Dashboard</a>
                <a href ="createquiz.html" class="logo1">Create quiz</a>
                <a href="logout.html" class="logo1">Logout</a>
            </div>
        </div>
    </header>
    <main class="main">
        <div id="teacher-quizzes"></div>
    </main>
    <script>
    async function loadTeacherQuizzes() {
        const token = localStorage.getItem('token');
        if (!token) return;
        const res = await fetch('http://localhost:4000/api/quizzes');
        const quizzes = await res.json();
        const container = document.getElementById('teacher-quizzes');
        container.innerHTML = '<h3>Your Quizzes</h3>';
        quizzes.forEach(q => {
            container.innerHTML += `
            <div class="box">
                <p><b>${q.title}</b></p>
                <p>${q.description || ''}</p>
                <div class="button">
                    <a href="../teacher/addQuestion.html?quiz_id=${q.id}" class="button1">Add Question</a>
                </div>
            </div>`;
        });
    }
    loadTeacherQuizzes();
    // Logout handler
    const logoutLink = document.querySelector('.nav-links a[href="logout.html"]');
    if (logoutLink) {
        logoutLink.addEventListener('click', function(event) {
            event.preventDefault();
            localStorage.removeItem('token');
            localStorage.removeItem('role');
            window.location.href = '../login.html';
        });
    }
    </script>
</body>
</html>